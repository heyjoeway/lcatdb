{
    "id": "/Definitions",
    "definitions": {
        "apiKey": {
            "type": "string"
        },
        "eventId": { "type": "string" },        
        "emailLowercase": {
            "type": "string",
            "pattern": "^[a-z0-9_.+-]+@[a-z0-9-]+\\.[a-z0-9-.]+$",
            "description": "Matches any lowercase email. Custom pattern used to exclude uppercase characters and to avoid multiple schema errors when using pattern and format in combination with one another."
        },
        "textShort": {
            "type": "string",
            "pattern": "^[^<>\r\n]*$"
        },
        "textLong": {
            "type": "string",
            "pattern": "^[^<>]*$"
        },
        "oid": {
            "type": "string"
        },
        "time": {
            "type": "integer",
            "minimum": 0
        },
        "configurationPerms": {
            "type": "array",
            "items": {
                "type": "string",
                "enum": [
                    "addMember",
                    "removeMember",
                    "addSensor",
                    "removeSensor",
                    "editName"
                ]
            },
            "default": []
        },
        "sensorType": {
            "$ref": "/Definitions#/definitions/textShort",
            "enum": [
                "depth",
                "temperature"
            ]
        },
        "location": {
            "type": "object",
            "properties": {
                "lat": {
                    "type": "number",
                    "minimum": -90,
                    "maximum": 90
                },
                "long": {
                    "type": "number",
                    "minimum": -180,
                    "maximum": 180
                },
                "range": {
                    "type": ["number", "null"],
                    "minimum": 0,
                    "description": "Max error from lat/long in meters."
                },
                "alt": {
                    "type": ["number", "null"],
                    "description": "Distance from sea level in meters."
                },
                "altRange": {
                    "type": ["number", "null"],
                    "minimum": 0,
                    "description": "Max error from alt in meters."
                }
            },
            "required": ["lat", "long"],
            "dependencies": {
                "range": ["lat", "long"],
                "altRange": ["alt"]
            },
            "additionalProperties": false
        }
    }
}