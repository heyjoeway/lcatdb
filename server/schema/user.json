{
    "id": "/User",
    "type": "object",
	"properties": {
		"username": {
            "type": "string",
            "pattern": "^[a-z0-9_]{1,15}$"
        },

		"email": {
            "$ref": "/Definitions#/definitions/emailLowercase"
        },

        "password": {
            "description": "Validates the user-input password as well as the hash. Hash is stored. Minimum password length is 6 characters.",
            "type": "string",
            "pattern": "^.{6,}$"
        },

		"first": {
            "$ref": "/Definitions#/definitions/textShort",
            "default": ""
        },
		"last": {
            "$ref": "/Definitions#/definitions/textShort",
            "default": ""
        },

        "organizations": {
            "type": "array",
            "items": { "$ref": "/Definitions#/definitions/textShort" },
            "default": []
        },

        "phone": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "number": { "type": "string" },
                    "location": { "$ref": "/Definitions#/definitions/textShort" }
                },
                "required": ["number"]
            },
            "default": []
        },

        "descShort": {
            "$ref": "/Definitions#/definitions/textShort",
            "default": ""
        },
        "descLong": {
            "$ref": "/Definitions#/definitions/textLong",
            "default": ""
        },

        "picture": {
            "type": "string",
            "format": "uri"
        },
        
        "creation": { "$ref": "/Definitions#/definitions/time" },

        "verified": {
            "type": "boolean",
            "default": false
        },

        "timezone": {
            "type": "number",
            "minimum": -11,
            "maximum": 14,
            "multipleOf": 0.5
        },

        "publicity": {
            "type": "array",
            "items": {
                "type": "string",
                "enum": [
                    "first",
                    "last",
                    "email",
                    "description",
                    "creation",
                    "timezone",
                    "phone",
                    "organizations"
                ]
            },
            "default": [
                "first",
                "last",
                "email",
                "description",
                "creation",
                "timezone",
                "phone",
                "organizations"
            ]
        }
    },
    
    "apiKey": {
        "type": "string"
    },

    "denyApi": {
        "type": "boolean",
        "default": false
    },

    "additionalProperties": false,
    "required": [
        "username",
        "password",
        "first",
        "last",
        "organizations",
        "phone",
        "descShort",
        "descLong",
        "creation",
        "verified",
        "timezone",
        "publicity"
    ]
}