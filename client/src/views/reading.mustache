<!DOCTYPE html>
{{^query.marker}}
<head>
    <!--head-->
    <title><!--title--> - Reading</title>
    <meta name="app:page" content="reading"/>
    <meta name="app:mustLogin" content="false"/>
    <meta name="app:noUser" content="false"/>
</head>
<body>
    <!--nav_auto-->

    <div id="content"><div class="container">
        {{#reading}}
        <div class="col-xs-12 col-sm-6">
            <h2>Reading</h2>
            {{#user}}
            <a href="/newReading.html?configuration={{configuration}}"
               class="btn btn-primary">
                Submit New Reading
            </a>
            <a href="/configurations/{{configuration}}"
               class="online_only_disable btn btn-default">
                View Configuration
            </a><br>
            {{/user}}
            <br>
            <table class="table">
                <tr>
                    <th>ID</th>
                    <td>{{_id}}</td>
                </tr>
    
                <tr>
                    <th>Creator ID</th>
                    <td>{{creator}}</td>
                </tr>
                
                <tr>
                    <th>Time Created</th>
                    <td class="normalize"
                        data-unittype="time"
                        data-unit="unix"
                        data-unitpref="human12hr">
                        {{timeCreated}}
                    </td>
                </tr>
    
                {{#published}}
                <tr>
                    <th>Time Published</th>
                    <td class="normalize"
                        data-unittype="time"
                        data-unit="unix"
                        data-unitpref="human12hr">
                        {{timePublished}}
                    </td>
                </tr>
                {{/published}}
        
                {{#location}}
                <tr>
                    <th>Latitude</th>
                    <td class="normalize"
                        data-unittype="location"
                        data-unit="degrees"
                        data-unitpref="degMin">
                        {{lat}}
                    </td>
                </tr>
    
                <tr>
                    <th>Longitude</th>
                    <td class="normalize"
                        data-unittype="location"
                        data-unit="degrees"
                        data-unitpref="degMin">
                        {{long}}
                    </td>
                </tr>
    
                {{#range}}
                <tr>
                    <th>Range</th>
                    <td class="normalize"
                        data-unittype="length"
                        data-unit="meters"
                        data-unitprefsystem="imperial">
                        {{.}}
                    </td>
                </tr>
                {{/range}}
    
    
                {{#altitude}}
                <tr>
                    <th>Altitude</th>
                    <td class="normalize"
                        data-unittype="length"
                        data-unit="meters"
                        data-unitprefsystem="imperial">
                        {{.}}
                    </td>
                </tr>
                {{/altitude}}
    
                {{#altRange}}
                <tr>
                    <th>Altitude Range</th>
                    <td class="normalize"
                        data-unittype="length"
                        data-unit="meters"
                        data-unitprefsystem="imperial">
                        {{.}}
                    </td>
                </tr>
                {{/altRange}}
                {{/location}}
            </table>

            <hr>

            <h3>Values</h3>
            <select id="unit-system-picker" class="selectpicker">
                <option value="imperial" selected="selected">Imperial Units</option>
                <option value="metric">Metric Units</option>
            </select>
            
            <table class="table">
                {{#values}}
                {{#display}}
                {{#data}}
                <tr>
                    <th>{{title}}</th>
                    <td>
                        <span class="{{#normalize}}normalize{{/normalize}}"
                            data-unittype="{{normalize.type}}"
                            data-unit="{{normalize.unit}}"
                            data-unitprefsystem="{{normalize.prefSystem}}"
                            aria-describedby="addon-values-{{index}}{{#path}}-{{.}}{{/path}}">
                            {{data}}
                        </span>
                        <span id="addon-values-{{index}}{{#path}}-{{.}}{{/path}}">
                            {{label}}
                        </span>
                    </td>
                </tr>
                {{/data}}
                {{/display}}
                {{/values}}
                {{^values}}
                <p>No values found for this reading.</p>
                {{/values}}
            </table>

            <hr class="visible-xs-block">
        </div>

        <div class="col-xs-12 col-sm-6">
            <h3 class="h-inline">Map</h3>
            <div id="map-time" class="map-iframe" data-reading="{{_id}}"></div>
            <br><br>
        </div>

        {{/reading}}
    </div></div>

    <!--scripts-->
</body>
{{/query.marker}}
{{#query.marker}}
<head>
    <!--head-->
    <title><!--title--> - Reading</title>
    <base target="_blank">
</head>
<body class="no-nav">
    <div id="content">
        {{#reading}}
        <h5 class="h-inline">Reading</h5>
        &nbsp;
        <a class="btn btn-tiny btn-primary" href="/readings/{{_id}}">
            More Info
        </a>
        <br>
        <div>
            <span class="normalize"
                data-unittype="time"
                data-unit="unix"
                data-unitpref="human12hr">
                {{timeCreated}}
            </span>
        </div>
        <div>
            <strong>Latitude</strong> &bull; 
            <span class="normalize"
                data-unittype="location"
                data-unitpref="degMin">
                {{location.lat}}
            </span>
        </div>
        <div>
            <strong>Longitude</strong> &bull; 
            <span class="normalize"
                data-unittype="location"
                data-unitpref="degMin">
                {{location.long}}
            </span>
        </div>
                
        {{#values}}
        {{#display}}
        {{#data}}
        <div>
            <strong>{{title}}</strong> &bull; 
            <span class="{{#normalize}}normalize{{/normalize}}"
                data-unittype="{{normalize.type}}"
                data-unit="{{normalize.unit}}"
                data-unitprefsystem="{{normalize.prefSystem}}"
                aria-describedby="addon-values-{{index}}{{#path}}-{{.}}{{/path}}">
                {{data}}
            </span>
            <span id="addon-values-{{index}}{{#path}}-{{.}}{{/path}}">
                {{label}}
            </span>
        </div>
        {{/data}}
        {{/display}}
        {{/values}}
        {{^values}}
        <p>No values found for this reading.</p>
        {{/values}}
        {{/reading}}
    </div>
</body>
{{/query.marker}}